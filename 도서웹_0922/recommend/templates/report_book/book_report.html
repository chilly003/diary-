{% extends "base.html" %}

{% block content %}

{% if request.user.is_authenticated %}
    <h1 class="mb-4 mt-4">ë…í›„ê°ğŸ“š</h1>
    <h5 class="text-center">ë“¤ì€ ê²ƒì€ ìŠì–´ë²„ë¦¬ê³  ë³¸ ê²ƒì€ ê¸°ì–µí•˜ê³  ì§ì ‘ í•´ë³¸ ê²ƒì€ ì´í•´í•œë‹¤. -ê³µì-</h5>
    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
      <a href="{% url 'recommend:create' %}" class="btn btn-outline-success btn-lg fw-bold" role="button">ë…í›„ê° ì‘ì„±</a>
    </div>

    <div class="row row-cols-1 row-cols-md-3 g-3">
      {% for report in report_all %}
      <div class="col">
        <div class="card mt-3" style="width: 18rem;">
          {% if report.image %}
            <img src="{{report.image.url}}" class="card-img-top" alt="img" style="width: 18rem;">
            {% endif %}
          <div class="card-body">
            <p class="text-center fs-5">{{report.user}}ë‹˜ì˜ {{report.pk}}ë²ˆì§¸ ë…í›„ê°</p>
            <hr>
            <p>ì œëª© : {{report.name}}</p>
            <p>ì €ì : {{report.author}}</p>
            <p>ì´ ì±…ì„ ì¶”ì²œí•˜ë‚˜ìš”? : <span style="color: {% if report.is_completed %}green{% else %}red{% endif %};">
              {% if report.is_completed %}ì¶”ì²œ{% else %}ë¹„ì¶”ì²œ{% endif %}
            <p>ì‘ì„±ì¼ : {{report.created_at}}</p>
            <p>ë³„ì  : {% if report.star == 1 %}â­{% elif report.star == 2 %}â­â­{% elif report.star == 3 %}â­â­â­{% elif report.star == 4 %}â­â­â­â­{% elif report.star == 5 %}â­â­â­â­â­{% endif %}</p>
            <a href="{% url "recommend:detail" report.pk %}" class="btn btn-outline-primary" role="button">ìƒì„¸</a>
          </div>
        </div>
      </div>
    {% empty %}
      <h2 class="mt-5">ì‘ì„±ëœ ë…í›„ê°ì´ ì—†ìŠµë‹ˆë‹¤. ë§ˆìŒì˜ ì–‘ì‹ì„ ì±„ì›Œë³´ì„¸ìš”.</h2>
    {% endfor %}
  </div>


{% else %}
<h2>ì‚¬ì´íŠ¸ ì´ìš©ì„ ìœ„í•´ ë¡œê·¸ì¸ì„ ì§„í–‰í•´ ì£¼ì„¸ìš”.</h2>
<a href="{% url "accounts:login" %}"><p class ="text-center">ë¡œê·¸ì¸í•˜ëŸ¬ ê°€ê¸°</p></a>
{% endif %}
{% endblock content %}